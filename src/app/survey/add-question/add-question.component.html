<div class="card question d-flex mb-4 edit-quesiton">
  <p class="dismissQuestion" (click)="onDismiss()" title="Close"><i class="simple-icon-arrow-down with-rotate-icon"></i></p>
  <div class="d-flex flex-grow-1 min-width-zero">
    <div
      class="card-body align-self-center d-flex flex-column flex-md-row justify-content-between min-width-zero align-items-md-center">

      <div class="list-item-heading mb-0 truncate w-80 mb-1 mt-1">
        <span class="d-inline-block">
        Add Question
        </span>
        {{question.label}}
      </div>
    </div>

<!--    <div-->
<!--      class="custom-control custom-checkbox pl-1 align-self-center pr-4">-->
<!--      <button class="btn btn-outline-theme-3 icon-button edit-button">-->
<!--        <i class="simple-icon-pencil"></i>-->
<!--      </button>-->
<!--      <button class="btn btn-outline-theme-3 icon-button view-button">-->
<!--&lt;!&ndash;        <i class="simple-icon-eye"></i>&ndash;&gt;-->
<!--      </button>-->
<!--      <button-->
<!--        class="btn btn-outline-theme-3 icon-button rotate-icon-click rotate"-->
<!--        type="button" data-toggle="collapse" [attr.data-target]="'#q' + question.id"-->
<!--        aria-expanded="true" aria-controls="q1">-->
<!--&lt;!&ndash;        <i class="simple-icon-arrow-down with-rotate-icon"></i>&ndash;&gt;-->
<!--      </button>-->
<!--    </div>-->
  </div>

  <form [formGroup]="orderForm" (ngSubmit)="onUpdate()">
    <div class="question-collapse collapse show" id="q{{question.id}}">
      <div class="card-body pt-0">

        <div class="edit-mode">
          <p>Questions are attached to categories and answered by participants</p>

          <div>
             <div class="form-check mb-4">
            <input formControlName="pagebreak" class="form-check-input" type="checkbox" value=""
                   id="flexCheckDefault">
            <label class="form-check-label" for="flexCheckDefault">
              Insert Page-Break
            </label>
          </div>
            <div class="form-floating form-group mb-4">
              <!--              <label>Question</label>-->
              <textarea formControlName="question" class="form-control" id="name" aria-label="Question"></textarea>
              <label>Add Question</label>
              <div *ngIf="f.question.invalid && (f.question.dirty || f.question.touched)"
                   class="alert">
                <!--      <div *ngIf="f.name.errors?.['minLength']" >Min is Required</div>-->
                <div *ngIf="f.question.errors?.['required']">
                  * Question is Required
                </div>
                <div *ngIf="f.question.errors?.['minlength']">
                  Question must be at least 6 characters long.
                </div>
              </div>
            </div>


            <div class="form-group mb-4">
              <label class="d-block">Select Question Field Type</label>
              <div class="separator mb-4"></div>
              <select formControlName="type" #type class="form-control select2-single" data-width="100%"
                      (change)="onSelect(type.value)">
                <option selected></option>

                <option *ngFor="let filedTypeMenu of filedTypeMenus" [ngValue]="filedTypeMenu.id">
                  {{filedTypeMenu.name}}
                </option>
              </select>
            </div>

            <div *ngIf="type.value" class="form-group">
              <div [ngSwitch]="type.value">
                <ng-template [ngSwitchCase]="'6: textarea'">
                  <app-editor-field [optionListItems]="question"
                                    [studyInfo]="studyInfo" [action]="false"
                                    (toggleEdit)="onUpdateTest($event)"
                                    (dismiss)="onDismiss()">

                  </app-editor-field>
                </ng-template>
                <ng-template [ngSwitchCase]="'4: number'">
                  <app-option-number-field [optionListItems]="question"
                                           [studyInfo]="studyInfo" [action]="false"
                                           (toggleEdit)="onUpdateTest($event)"
                                           (dismiss)="onDismiss()">

                  </app-option-number-field>
                </ng-template>
                <ng-template [ngSwitchCase]="'2: select'">
                  <app-create-question-options [optionListItems]="question"
                                               (toggleList)="onUpdate()"
                                               (dismiss)="onDismiss()"
                  ></app-create-question-options>
                </ng-template>
                <ng-template [ngSwitchCase]="'7: multivalued'">
                  <app-create-question-options [optionListItems]="question"
                                               (toggleList)="onUpdate()"
                                               (dismiss)="onDismiss()"
                  ></app-create-question-options>
                </ng-template>
                <ng-template [ngSwitchCase]="'3: radio'">
                  <app-create-question-options [optionListItems]="question"
                                               (toggleList)="onUpdate()"
                                               (dismiss)="onDismiss()"
                  ></app-create-question-options>
                </ng-template>
                <ng-template [ngSwitchCase]="'5: checkbox'">
                  <app-create-question-options [optionListItems]="question"
                                               (toggleList)="onUpdate()"
                                               (dismiss)="onDismiss()"
                  ></app-create-question-options>
                </ng-template>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </form>
</div>
